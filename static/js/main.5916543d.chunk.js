(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{26:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},60:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(21),i=n.n(a),s=(n(50),n(16)),o=n(7),u=(n(51),n(2)),j=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h2",{children:"Error"})})},d=(n(53),n(8)),b=n(30),l=n(6),f="FETCHED_MOVIES",v="FETCHED_FILM_INFO",O="SET_SEARCH_VALUE",h="ADD_FILM_TO_SAVED",p="DELETE_FILM_FROM_SAVED",x="SET_CURRENT_PAGE",g="SET_FILM_INFO",m="SET_SORT_NAME",S="TOGGLE_FETCHING",y="SET_MOVIES",E="SET_FETCH_ERROR",F="ADD_ISSAVED",I={allMovies:[],savedMovies:[],searchValue:"",filmInfo:{},currentPage:1,isFetching:!1,sortBy:"",isFetchError:!1,isSavedId:[]};var _=function(e){return{type:y,payload:e}},M=function(e){return{type:g,payload:e}},N=function(e){return{type:S,isFetching:e}},C=(n(60),n.p+"static/media/searchIcon.7576ac8c.png"),w=function(e,t,n){return function(e,t){switch(t){case"vote_average":return e.sort((function(e,t){return e.vote_average-t.vote_average}));case"title":return e.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:e.title.toLowerCase()>t.title.toLowerCase()?1:0}));default:return e}}(function(e,t){return""===t?e:e.filter((function(e){return e.title.toLowerCase().includes(t)}))}(e,t),n)};var T=Object(d.b)((function(e){return{searchInputValue:e.searchValue}}),{setSearchValue:function(e){return{type:O,payload:e}}})((function(e){return Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("input",{onChange:function(t){e.setSearchValue(t.target.value)},value:e.searchInputValue,placeholder:"Search..."}),Object(u.jsx)("img",{src:C})]})}));var k=function(){return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)("h3",{children:"Movie App"})}),Object(u.jsxs)("div",{className:"saved",children:[Object(u.jsx)(s.b,{to:"/saved",children:Object(u.jsx)("h3",{children:"Saved Movies"})}),Object(u.jsx)(T,{})]})]})};n(64);var L=Object(d.b)((function(e){return{filmInfo:e.filmInfo}}),{fetchedFilmInfo:function(e){return{type:v,payload:e}}})((function(e){var t=Object(o.f)().id;return Object(r.useEffect)((function(){e.fetchedFilmInfo(t)}),[]),Object(u.jsxs)("div",{className:"about-film",children:[Object(u.jsx)("div",{className:"poster",children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.filmInfo.backdrop_path)})}),Object(u.jsxs)("div",{className:"about",children:[Object(u.jsx)("h1",{children:e.filmInfo.original_title}),Object(u.jsx)("h2",{children:"Description:"}),Object(u.jsxs)("p",{children:[" ",e.filmInfo.overview]}),Object(u.jsxs)("h2",{children:["Rating: ",e.filmInfo.vote_average]}),Object(u.jsxs)("h2",{children:["Budget: ",e.filmInfo.budget,"$"]})]})]})})),V=n.p+"static/media/loader.68b34446.svg",D=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:V})})},R=n(44);n(65);var P=Object(d.b)((function(e){return{currentPage:e.currentPage}}),{setCurrentPage:function(e){return{type:x,payload:e}}})((function(e){for(var t=function(t){e.setCurrentPage(+t.target.textContent)},n=Math.ceil(40),c=[],a=1;a<n;a++)c.push(a);var i=Math.ceil(n/5),s=Object(r.useState)(1),o=Object(R.a)(s,2),j=o[0],d=o[1],b=5*(j-1)+1,l=5*j;return Object(u.jsxs)("div",{className:"pagination",children:[j>1&&Object(u.jsx)("button",{className:"nav-btn",onClick:function(){d(j-1)},children:"PREV"}),c.filter((function(e){return e>=b&&e<=l})).map((function(n){return Object(u.jsx)("span",{className:e.currentPage===n&&"page-active",onClick:t,children:n},n)})),i>j&&Object(u.jsx)("button",{className:"nav-btn",onClick:function(){d(j+1)},children:"NEXT"})]})}));n(66);var A=Object(d.b)((function(e){return{isSavedId:e.isSavedId}}),{addToSaved:function(e){return{type:h,payload:e}},toggleIsSaved:function(e){return{type:F,id:e}},deleteFromSaved:function(e){return{type:p,id:e}}})((function(e){var t=e.id,n=e.poster_path,r=e.title,c=e.vote_average,a=e.saved,i=e.addToSaved,o=e.toggleIsSaved,j=e.isSavedId,d=e.deleteFromSaved;return Object(u.jsxs)("div",{className:"movie-card",children:[Object(u.jsxs)(s.b,{to:"/about/".concat(t),children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(n)}),Object(u.jsx)("h5",{children:r}),Object(u.jsxs)("div",{children:["Rating: ",c]})]}),a?Object(u.jsx)("button",{onClick:function(){return function(e){d(e),o(e)}(t)},children:"Delete"}):Object(u.jsx)("button",{disabled:j.some((function(e){return e===t})),onClick:function(){return i(t=e),void o(t.id);var t},children:"Save"})]})}));n(26),n(67);var B=Object(d.b)(null,{setSortName:function(e){return{type:m,payload:e}}})((function(e){var t=function(t){e.setSortName(t)};return Object(u.jsxs)("div",{className:"sort",children:[Object(u.jsx)("button",{onClick:function(){return t("title")},children:"Sort by Name"}),Object(u.jsx)("button",{onClick:function(){return t("vote_average")},children:"Sort by Rating"})]})}));var H=function(e){var t=e.movies;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(B,{}),Object(u.jsx)("div",{className:"movies",children:t.map((function(e,t){return Object(u.jsx)(A,Object(l.a)({},e),t)}))}),Object(u.jsx)(P,{})]})};var U=Object(d.b)((function(e){var t=e.allMovies,n=e.searchValue,r=e.sortBy,c=e.currentPage,a=e.isFetching,i=e.isFetchError;return{movies:w(t,n,r),pageNumber:c,isFetching:a,sortBy:r,isError:i}}),{fetchedMovies:function(e){return{type:f,payload:e}}})((function(e){return Object(r.useEffect)((function(){e.fetchedMovies(e.pageNumber)}),[e.sortBy,e.pageNumber]),e.isError?Object(u.jsx)(o.a,{to:"/error"}):Object(u.jsxs)(u.Fragment,{children:[e.isFetching&&Object(u.jsx)(D,{}),Object(u.jsx)(H,Object(l.a)({},e))]})}));var G=Object(d.b)((function(e){return{savedMovies:e.savedMovies}}),{})((function(e){var t=e.savedMovies;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"movies",children:t.map((function(e,t){return Object(u.jsx)(A,Object(l.a)({},e),t)}))})})}));var J=function(){return Object(u.jsx)(s.a,{basename:"/react-movie-app",children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(k,{}),Object(u.jsx)(o.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(U,{})}}),Object(u.jsx)(o.b,{path:"/about/:id",render:function(){return Object(u.jsx)(L,{})}}),Object(u.jsx)(o.b,{path:"/saved",render:function(){return Object(u.jsx)(G,{})}}),Object(u.jsx)(o.b,{path:"/error",render:function(){return Object(u.jsx)(j,{})}})]})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},$=n(13),q=n.n($),z=n(42),K=n(14),Q=n(45),W=n(43),Y=n.n(W).a.create({baseURL:"https://api.themoviedb.org/3/"}),Z=function(e){return Y.get("/movie/popular?api_key=dcbc538ac3bc9a8a7fedd4b3a3f98eef&language=en-US&page=".concat(e))},ee=function(e){return Y.get("/movie/".concat(e,"?api_key=dcbc538ac3bc9a8a7fedd4b3a3f98eef&language&language=en-US"))},te=q.a.mark(re),ne=q.a.mark(ce);function re(e){var t;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(K.c)(N(!0));case 3:return n.next=5,Object(K.b)(Z,e.payload);case 5:return t=n.sent,n.next=8,Object(K.c)(N(!1));case 8:return n.next=10,Object(K.c)(_(t.data.results));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(K.c)({type:E,isFetchError:!0});case 16:case"end":return n.stop()}}),te,null,[[0,12]])}function ce(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(f,re);case 2:case"end":return e.stop()}}),ne)}var ae=q.a.mark(se),ie=q.a.mark(oe);function se(e){var t;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(K.b)(ee,e.payload);case 2:return t=n.sent,n.next=5,Object(K.c)(M(t.data));case 5:case"end":return n.stop()}}),ae)}function oe(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(v,se);case 2:case"end":return e.stop()}}),ie)}var ue=q.a.mark(je);function je(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)([ce(),oe()]);case 2:case"end":return e.stop()}}),ue)}var de=Object(Q.a)(),be=n(18),le=(0,be.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(l.a)(Object(l.a)({},e),{},{allMovies:t.payload});case h:return Object(l.a)(Object(l.a)({},e),{},{savedMovies:[].concat(Object(b.a)(e.savedMovies),[Object(l.a)(Object(l.a)({},t.payload),{},{saved:!0})])});case p:return Object(l.a)(Object(l.a)({},e),{},{savedMovies:e.savedMovies.filter((function(e){return e.id!==t.id}))});case F:return Object(l.a)(Object(l.a)({},e),{},{isSavedId:e.isSavedId.includes(t.id)?e.isSavedId.filter((function(e){return e!==t.id})):[].concat(Object(b.a)(e.isSavedId),[t.id])});case O:return Object(l.a)(Object(l.a)({},e),{},{searchValue:t.payload});case x:return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.payload});case g:return Object(l.a)(Object(l.a)({},e),{},{filmInfo:t.payload});case m:return Object(l.a)(Object(l.a)({},e),{},{sortBy:t.payload});case S:return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case E:return Object(l.a)(Object(l.a)({},e),{},{isFetchError:t.isFetchError});default:return e}}),(0,be.applyMiddleware)(z.a,de));console.log(le.getState()),de.run(je);var fe=le;i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(d.a,{store:fe,children:Object(u.jsx)(J,{})})}),document.getElementById("root")),X()}},[[87,1,2]]]);
//# sourceMappingURL=main.5916543d.chunk.js.map