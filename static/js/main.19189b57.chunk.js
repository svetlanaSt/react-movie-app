(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{28:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},57:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(20),i=n.n(a),s=(n(47),n(16)),o=n(6),u=(n(48),n(2)),j=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h2",{children:"Error"})})},b=(n(50),n(14)),l=n(7),f="FETCHED_MOVIES",d="FETCHED_FILM_INFO",p="SET_SEARCH_VALUE",h="SET_CURRENT_PAGE",O="SET_FILM_INFO",v="SET_SORT_NAME",g="TOGGLE_FETCHING",x="SET_MOVIES",m="SET_FETCH_ERROR",y={allMovies:[],searchValue:"",filmInfo:{},currentPage:1,isFetching:!1,sortBy:"",isFetchError:!1};var E=function(e){return{type:x,payload:e}},F=function(e){return{type:O,payload:e}},N=function(e){return{type:g,isFetching:e}},_=(n(57),n.p+"static/media/searchIcon.7576ac8c.png"),w=function(e,t,n){return function(e,t){switch(t){case"vote_average":return e.sort((function(e,t){return e.vote_average-t.vote_average}));case"title":return e.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:e.title.toLowerCase()>t.title.toLowerCase()?1:0}));default:return e}}(function(e,t){return""===t?e:e.filter((function(e){return e.title.toLowerCase().includes(t)}))}(e,t),n)};var C=Object(b.b)((function(e){return{searchInputValue:e.searchValue}}),{setSearchValue:function(e){return{type:p,payload:e}}})((function(e){return Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("input",{onChange:function(t){e.setSearchValue(t.target.value)},value:e.searchInputValue,placeholder:"Search..."}),Object(u.jsx)("img",{src:_})]})}));var I=function(){return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)("h3",{children:"Movie App"})}),Object(u.jsx)(C,{})]})};n(61);var S=Object(b.b)((function(e){return{filmInfo:e.filmInfo}}),{fetchedFilmInfo:function(e){return{type:d,payload:e}}})((function(e){var t=Object(o.f)().id;return Object(r.useEffect)((function(){e.fetchedFilmInfo(t)}),[]),Object(u.jsxs)("div",{className:"about-film",children:[Object(u.jsx)("div",{className:"poster",children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.filmInfo.backdrop_path)})}),Object(u.jsxs)("div",{className:"about",children:[Object(u.jsx)("h1",{children:e.filmInfo.original_title}),Object(u.jsx)("h2",{children:"Description:"}),Object(u.jsxs)("p",{children:[" ",e.filmInfo.overview]}),Object(u.jsxs)("h2",{children:["Rating: ",e.filmInfo.vote_average]}),Object(u.jsxs)("h2",{children:["Budget: ",e.filmInfo.budget,"$"]})]})]})})),k=n.p+"static/media/loader.68b34446.svg",T=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:k})})},M=n(41);n(62);var L=Object(b.b)((function(e){return{currentPage:e.currentPage}}),{setCurrentPage:function(e){return{type:h,payload:e}}})((function(e){for(var t=function(t){e.setCurrentPage(+t.target.textContent)},n=Math.ceil(40),c=[],a=1;a<n;a++)c.push(a);var i=Math.ceil(n/5),s=Object(r.useState)(1),o=Object(M.a)(s,2),j=o[0],b=o[1],l=5*(j-1)+1,f=5*j;return Object(u.jsxs)("div",{className:"pagination",children:[j>1&&Object(u.jsx)("button",{className:"nav-btn",onClick:function(){b(j-1)},children:"PREV"}),c.filter((function(e){return e>=l&&e<=f})).map((function(n){return Object(u.jsx)("span",{className:e.currentPage===n&&"page-active",onClick:t,children:n},n)})),i>j&&Object(u.jsx)("button",{className:"nav-btn",onClick:function(){b(j+1)},children:"NEXT"})]})}));n(63);var P=function(e){return Object(u.jsx)("div",{className:"movie-card",children:Object(u.jsxs)(s.b,{to:"/about/".concat(e.id),children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.poster)}),Object(u.jsx)("h5",{children:e.title}),Object(u.jsxs)("div",{children:["Rating: ",e.rating]})]})})};n(28),n(64);var R=Object(b.b)(null,{setSortName:function(e){return{type:v,payload:e}}})((function(e){var t=function(t){e.setSortName(t)};return Object(u.jsxs)("div",{className:"sort",children:[Object(u.jsx)("button",{onClick:function(){return t("title")},children:"Sort by Name"}),Object(u.jsx)("button",{onClick:function(){return t("vote_average")},children:"Sort by Rating"})]})}));var V=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(R,{}),Object(u.jsx)("div",{className:"movies",children:e.movies.map((function(e){return Object(u.jsx)(P,{title:e.title,poster:e.poster_path,rating:e.vote_average,id:e.id},e.id)}))}),Object(u.jsx)(L,{})]})};var B=Object(b.b)((function(e){var t=e.allMovies,n=e.searchValue,r=e.sortBy,c=e.currentPage,a=e.isFetching,i=e.isFetchError;return{movies:w(t,n,r),pageNumber:c,isFetching:a,sortBy:r,isError:i}}),{fetchedMovies:function(e){return{type:f,payload:e}}})((function(e){return Object(r.useEffect)((function(){console.log(e.pageNumber),e.fetchedMovies(e.pageNumber)}),[e.sortBy,e.pageNumber]),e.isError?Object(u.jsx)(o.a,{to:"/error"}):Object(u.jsxs)(u.Fragment,{children:[e.isFetching&&Object(u.jsx)(T,{}),Object(u.jsx)(V,Object(l.a)({},e))]})}));var A=function(){return Object(u.jsx)(s.a,{basename:"/react-movie-app",children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(I,{}),Object(u.jsx)(o.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(B,{})}}),Object(u.jsx)(o.b,{path:"/about/:id",render:function(){return Object(u.jsx)(S,{})}}),Object(u.jsx)(o.b,{path:"/error",render:function(){return Object(u.jsx)(j,{})}})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},U=n(12),D=n.n(U),G=n(39),J=n(13),X=n(42),$=n(40),q=n.n($).a.create({baseURL:"https://api.themoviedb.org/3/"}),z=function(e){return q.get("/movie/popular?api_key=dcbc538ac3bc9a8a7fedd4b3a3f98eef&language=en-US&page=".concat(e))},K=function(e){return q.get("/movie/".concat(e,"?api_key=dcbc538ac3bc9a8a7fedd4b3a3f98eef&language&language=en-US"))},Q=D.a.mark(Y),W=D.a.mark(Z);function Y(e){var t;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(J.c)(N(!0));case 3:return n.next=5,Object(J.b)(z,e.payload);case 5:return t=n.sent,n.next=8,Object(J.c)(N(!1));case 8:return n.next=10,Object(J.c)(E(t.data.results));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(J.c)({type:m,isFetchError:!0});case 16:case"end":return n.stop()}}),Q,null,[[0,12]])}function Z(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.d)(f,Y);case 2:case"end":return e.stop()}}),W)}var ee=D.a.mark(ne),te=D.a.mark(re);function ne(e){var t;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(J.b)(K,e.payload);case 2:return t=n.sent,n.next=5,Object(J.c)(F(t.data));case 5:case"end":return n.stop()}}),ee)}function re(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.d)(d,ne);case 2:case"end":return e.stop()}}),te)}var ce=D.a.mark(ae);function ae(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([Z(),re()]);case 2:case"end":return e.stop()}}),ce)}var ie=Object(X.a)(),se=n(18),oe=(0,se.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(l.a)(Object(l.a)({},e),{},{allMovies:t.payload});case p:return Object(l.a)(Object(l.a)({},e),{},{searchValue:t.payload});case h:return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.payload});case O:return Object(l.a)(Object(l.a)({},e),{},{filmInfo:t.payload});case v:return Object(l.a)(Object(l.a)({},e),{},{sortBy:t.payload});case g:return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case m:return Object(l.a)(Object(l.a)({},e),{},{isFetchError:t.isFetchError});default:return e}}),(0,se.applyMiddleware)(G.a,ie));ie.run(ae);var ue=oe;i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(b.a,{store:ue,children:Object(u.jsx)(A,{})})}),document.getElementById("root")),H()}},[[84,1,2]]]);
//# sourceMappingURL=main.19189b57.chunk.js.map